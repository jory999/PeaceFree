#include "font.h"
void DrawPoint(int x,int y,int color);//画一个点
void PutChar(int x,int y, char *put_char, int color);//画一个字符

 const char font_code_global[94][16]={
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x80,},//!
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x50,0xa0,0xa0,},//"
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x28,0x28,0xfc,0x28,0x50,0xfc,0x50,0x50,},//#
    {0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x78,0xa8,0xa0,0x60,0x30,0x28,0xa8,0xf0,0x20,},//$
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0xa8,0xb0,0x50,0x28,0x34,0x54,0x48,},//%
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x50,0x50,0x78,0xa8,0xa8,0x90,0x6c,},//&
    {0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,},//'
    {0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x40,0x80,0x80,0x80,0x80,0x80,0x80,0x40,0x20,},//(
    {0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x20,0x20,0x20,0x20,0x20,0x40,0x80,},//)
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0xa8,0x70,0x70,0xa8,0x20,},//*
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x20,0xf8,0x20,0x20,0x20,},//+
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x80,},//,
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,},//-
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,},//.
    {0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x10,0x10,0x10,0x20,0x20,0x40,0x40,0x40,0x80,},///
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x88,0x88,0x70,},//0
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xc0,0x40,0x40,0x40,0x40,0x40,0xe0,},//1
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x10,0x20,0x40,0x80,0xf8,},//2
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x08,0x30,0x08,0x08,0x88,0x70,},//3
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x30,0x50,0x50,0x90,0x78,0x10,0x18,},//4
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x80,0x80,0xf0,0x08,0x08,0x88,0x70,},//5
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x90,0x80,0xf0,0x88,0x88,0x88,0x70,},//6
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x90,0x10,0x20,0x20,0x20,0x20,0x20,},//7
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x70,0x88,0x88,0x88,0x70,},//8
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x88,0x78,0x08,0x48,0x70,},//9
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x80,},//:
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x80,0x80,},//;
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x10,0x20,0x40,0x80,0x40,0x20,0x10,0x08,},//<
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x00,0x00,0xf8,},//=
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x10,0x20,0x40,0x80,},//>
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x10,0x20,0x20,0x00,0x20,},//?
    {0x00,0x18,0x18,0x18,0x18,0x24,0x24,0x24,0x24,0x7e,0x42,0x42,0x42,0xe7,0x00,0x00,},//@
    {0x00,0x18,0x18,0x18,0x18,0x24,0x24,0x24,0x24,0x7e,0x42,0x42,0x42,0xe7,0x00,0x00,},//A
    {0x00,0x18,0x18,0x18,0x18,0x24,0x24,0x24,0x24,0x7e,0x42,0x42,0x42,0xe7,0x00,0x00,},//B
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x88,0x80,0x80,0x80,0x80,0x88,0x70,},//C
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x48,0x48,0x48,0x48,0x48,0x48,0xf0,},//D
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x48,0x50,0x70,0x50,0x40,0x48,0xf8,},//E
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x48,0x50,0x70,0x50,0x40,0x40,0xe0,},//F
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x48,0x80,0x80,0x9c,0x88,0x48,0x30,},//G
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xcc,0x48,0x48,0x78,0x48,0x48,0x48,0xcc,},//H
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x20,0x20,0x20,0x20,0x20,0x20,0xf8,},//I
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7c,0x10,0x10,0x10,0x10,0x10,0x10,0x90,0xe0,},//J
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xec,0x48,0x50,0x60,0x50,0x50,0x48,0xec,},//K
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xe0,0x40,0x40,0x40,0x40,0x40,0x44,0xfc,},//L
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xd8,0xd8,0xd8,0xd8,0xa8,0xa8,0xa8,0xa8,},//M
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xdc,0x48,0x68,0x68,0x58,0x58,0x48,0xe8,},//N
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x88,0x88,0x88,0x88,0x70,},//O
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x48,0x48,0x70,0x40,0x40,0x40,0xe0,},//P
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x88,0x88,0x88,0x88,0xe8,0x98,0x70,0x18,},//Q
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x48,0x48,0x70,0x50,0x48,0x48,0xec,},//R
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x88,0x80,0x60,0x10,0x08,0x88,0xf0,},//S
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0xa8,0x20,0x20,0x20,0x20,0x20,0x70,},//T
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xcc,0x48,0x48,0x48,0x48,0x48,0x48,0x30,},//U
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xcc,0x48,0x48,0x50,0x50,0x30,0x20,0x20,},//V
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xa8,0xa8,0xa8,0x70,0x50,0x50,0x50,0x50,},//W
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xd8,0x50,0x50,0x20,0x20,0x50,0x50,0xd8,},//X
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xd8,0x50,0x50,0x20,0x20,0x20,0x20,0x70,},//Y
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf8,0x90,0x10,0x20,0x20,0x40,0x48,0xf8,},//Z
    {0x00,0x00,0x00,0x00,0x00,0x00,0xe0,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0xe0,},//[
    {0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x40,0x40,0x20,0x20,0x20,0x10,0x00,},/* \ */
    {0x00,0x00,0x00,0x00,0x00,0x00,0xe0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xe0,},//]
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xa0,},//^
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfc,},//_
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,},//`
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x90,0x70,0x90,0x78,},//a
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0x40,0x40,0x70,0x48,0x48,0x48,0x70,},//b
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x90,0x80,0x80,0x70,},//c
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x10,0x10,0x70,0x90,0x90,0x90,0x78,},//d
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x90,0xf0,0x80,0x70,},//e
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x40,0x40,0xf0,0x40,0x40,0x40,0xf0,},//f
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x78,0x90,0x60,0x80,0xf0,0x88,0x70,},//g
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0x40,0x40,0x70,0x48,0x48,0x48,0xec,},//h
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x00,0x00,0xc0,0x40,0x40,0x40,0xe0,},//i
    {0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x00,0x00,0x30,0x10,0x10,0x10,0x10,0x10,0xe0,},//j
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0x40,0x40,0x5c,0x50,0x70,0x48,0xec,},//k
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xe0,0x20,0x20,0x20,0x20,0x20,0x20,0xf8,},//l
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0xa8,0xa8,0xa8,0xa8,},//m
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x48,0x48,0x48,0xec,},//n
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x90,0x90,0x90,0x60,},//o
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x48,0x48,0x48,0x70,0x40,0xe0,},//p
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x90,0x90,0x90,0x70,0x10,0x38,},//q
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xd8,0x60,0x40,0x40,0xe0,},//r
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x80,0x60,0x10,0xf0,},//s
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0xe0,0x40,0x40,0x40,0x30,},//t
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xd8,0x48,0x48,0x48,0x3c,},//u
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xec,0x48,0x50,0x30,0x20,},//v
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xa8,0xa8,0x70,0x50,0x50,},//w
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xd8,0x50,0x20,0x50,0xd8,},//x
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xec,0x48,0x50,0x30,0x20,0x20,0xc0,},//y
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xf0,0x20,0x40,0x40,0xf0,},//z
    {0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x40,0x40,0x40,0x80,0x40,0x40,0x40,0x40,0x60,},//{
    {0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,},//|
    {0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0x40,0x40,0x40,0x20,0x40,0x40,0x40,0x40,0xc0,},//}
    {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0xa4,0x18,},//~
};




/* void DrawPoint(int x,int y,int color)
{
    char *p;
     p = (char*)(0xFD000000 + (320 * y + x) * 3);//计算某个像素的内存地址
    *(p+2) = (char)(color >> 16);//color是int型，4字节，最高字节保留不用，剩下为rgb，向右移动10位，把R值取出
    *(p+1) = (char)((color >> 8) & 0xFF);//向右移动8字节，然后 &0x11111111，得到G
    *p     = (char)(color & 0xFF);//同理，B值
    return;
}
 */

 void DrawPoint(int x,int y,int color)
{
    char *p;
      p = (0xa0000 + 320 * y + x);//计算某个像素的内存地址
    
    *p     = color ;
    return;
}

void PutString(int x,int y, char* string, int color)//输出字符串，输出直到结尾为\0停止符
{
    int i=0;
    while(string[i] != '\0')
    {
        PutChar(x + 10 *i, y, *(string+i),color);//there are 2 pixels between char
        i++;
    }

}




/* void putfont8( int x, int y, char c, char *font)
{
	int i;
	char *p, d ;
	for (i = 0; i < 16; i++) {
		p = 0xa0000 + (y + i) * 320 + x;
		d = font[i];
        
		if ((d & 0x80) != 0) { p[0] = c; }
		if ((d & 0x40) != 0) { p[1] = c; }
		if ((d & 0x20) != 0) { p[2] = c; }
		if ((d & 0x10) != 0) { p[3] = c; }
		if ((d & 0x08) != 0) { p[4] = c; }
		if ((d & 0x04) != 0) { p[5] = c; }
		if ((d & 0x02) != 0) { p[6] = c; }
		if ((d & 0x01) != 0) { p[7] = c; }
	}
	return;
} */

void PutChar(int x,int y, char *put_char, int color)//输出一个字符
{

    int i;
    char d;
    
        for (i=0;i<16;i++)//扫描点阵，从上到下16行
        {
            d=put_char[i];
            if((d & 0x80) != 0) //compare font & 1000 0000
                DrawPoint(x+0,y+i,color);
            if((d & 0x40) != 0) //compare font & 0100 0000
                DrawPoint(x+1,y+i,color);
            if((d & 0x20) != 0) //compare font & 0010 0000
                DrawPoint(x+2,y+i,color);
            if((d & 0x10) != 0) //compare font & 0001 0000
                DrawPoint(x+3,y+i,color);
            if((d & 0x08) != 0) //compare font & 0000 1000
                DrawPoint(x+4,y+i,color);
            if((d & 0x04) != 0) //compare font & 0000 0100
                DrawPoint(x+5,y+i,color);
            if((d & 0x02) != 0) //compare font & 0000 0010
                DrawPoint(x+6,y+i,color);
            if((d & 0x01) != 0) //compare font & 0000 0001
                DrawPoint(x+7,y+i,color);
        }
    
}

/* void PutChar(int x,int y, char put_char, int color)//输出一个字符
{

    int i;
    if (put_char >= 0x21 && put_char <= 0x7e)
    {
        for (i=0;i<16;i++)//扫描点阵，从上到下16行
        {
            if((font_code_global[put_char-0x21][i] & 0x80) == 0x80) //compare font & 1000 0000
                DrawPoint(x+0,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x40) == 0x40) //compare font & 0100 0000
                DrawPoint(x+1,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x20) == 0x20) //compare font & 0010 0000
                DrawPoint(x+2,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x10) == 0x10) //compare font & 0001 0000
                DrawPoint(x+3,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x08) == 0x08) //compare font & 0000 1000
                DrawPoint(x+4,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x04) == 0x04) //compare font & 0000 0100
                DrawPoint(x+5,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x02) == 0x02) //compare font & 0000 0010
                DrawPoint(x+6,y+i,color);
            if((font_code_global[put_char-0x21][i] & 0x01) == 0x01) //compare font & 0000 0001
                DrawPoint(x+7,y+i,color);
        }
    }
}
 */